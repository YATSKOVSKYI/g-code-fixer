# G-code Fixer

Интерактивное десктоп‑приложение на Python для просмотра и правки G-code с визуальным предпросмотром траекторий. Программа позволяет быстро вручную корректировать ход печати: выделяйте слой, перетаскивайте узлы траекторий прямо на превью и сохраняйте изменённый файл.

## Возможности
- Загрузка G-code (`.gcode`, `.gco`, `.gc`, `.nc`) и отображение исходного текста.
- Просмотр слоёв по одному: траектории перемещений (`travel`) и экструзии подсвечиваются разными цветами.
- Перетаскивание концов сегментов на плоскости XY для оперативной правки координат.
- Автоматическое обновление текстового представления и повторное сохранение в G-code.
- Предпросмотр с масштабированием колёсиком мыши и перемещением сцены (зажмите колёсико или правую кнопку).

## Установка
1. Убедитесь, что установлен Python 3.10+.
2. Установите зависимости:
   ```bash
   pip install -r requirements.txt
   ```

## Запуск
```bash
python main.py
```

## Использование
- Нажмите «Открыть G-code…», выберите файл. Приложение автоматически подсчитает количество слоёв.
- Сдвигайте ползунок «Слой» или вводите номер слоя в поле справа.
- Перемещайте точки траектории: можно схватить круглый маркер или просто потянуть за край любого сегмента (travel/экструзия). После отпускания координаты команды обновляются, а текст G-code синхронизируется.
- Включайте «Анимация слоя», чтобы увидеть плавное прорисовывание траектории и подсветку сопла в реальном времени.
- Регулируйте скорость воспроизведения ползунком: задайте мм/с и наблюдайте, как траектория перерисовывается быстрее или медленнее.
- Включайте анимацию выбранного слоя: траектория отрисовывается плавно, маркер сопла подсвечивает тип (travel/экструзия), что помогает визуально оценить порядок движений.
- Цвета:
  - Оранжевый/красный — экструзия.
  - Голубой — перемещение без экструзии.
- Для сохранения результата используйте «Сохранить как…».

## Ограничения и планы
- Поддержка дуг (G2/G3) и относительных систем координат пока ограничена.
- Изменение Z-координат и параметров подачи реализованы не полностью.
- Возможна дальнейшая доработка: undo/redo, подсветка выбранного сегмента в текстовом виде, экспорт настроек.

Буду рад идеям по улучшению — создавайте issue или pull request.
